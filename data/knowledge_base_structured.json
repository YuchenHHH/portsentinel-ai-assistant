[
  {
    "Title": "CNTR: Trying to create Container Range From CONTAINER_ID to BSIU 323099, but we are hit with Container Range Error",
    "Overview": "We are attempting to create a container range from CONTAINER_ID to CONTAINER_ID, but encountered an error: 'Overlapping container range(s) found.' However, the specified range could not be located. A query for the range from CONTAINER_ID to CONTAINER_ID returned a different range. The concern is that the range isn't visible in the system, despite being created by the relevant process. A search on our end also returned a different range. Why is this discrepancy not visible on their end?",
    "Preconditions": null,
    "Resolution": "1. How to check container parameter range and whether it overlap?\n2. System check the serial number range excluding Check Digit\n3. For this case, the serial number overlap. BSIU 3430001\n4. Confirm scope and reproduction on a safe test entity.\n5. Check recent deployments/config toggles around the timestamp.\n6. Apply compliant fix and document the change.\n6.1 Capture before/after evidence (screenshots/queries).\n6.2 Update the case with sanitized details.",
    "Verification": "1. Run the end-to-end journey again; confirm success.\n2. No new errors for 30 minutes in monitoring.\n3. Attach evidence and close the case.",
    "Module": "Container Report"
  },
  {
    "Title": "CNTR: Discrepancy between customer portal and TOS for container CM",
    "Overview": "Discrepancy between the customer portal and TOS for container CONTAINER_ID on voyage VOYAGE_ID. The portal shows 'Loaded @ LOCATION' while TOS indicates 'In Yard - BLOCK'. An audit trail reveals a late yard move event, possibly overwritten by an older milestone. Booking and seal information (placeholders) are included. The last move was handled by YARD_CRANE at LOCATION.",
    "Preconditions": null,
    "Resolution": "1. Investigate Data Discrepancy:\n1.1 Executed Authentication & Token Refresh to resolve the issue.\n1.2 Ran cross-system comparison and invalidated cache to synchronize data.\n2. Ran cross-system compare and forced cache invalidation.\n3. Re-ordered events by eventTime; replayed 'Yard Move Completed'.\n4. Corrected size/type to manifest truth and locked the attribute for 6 hours.\n5. Published reconciliation summary with sanitized diffs.\n6. Confirm scope and reproduction on a safe test entity.\n7. Check recent deployments/config toggles around the timestamp.\n8. Apply compliant fix and document the change.\n8.1 Capture before/after evidence (screenshots/queries).\n8.2 Update the case with sanitized details.",
    "Verification": "1. Run the end-to-end journey again; confirm success.\n2. No new errors for 30 minutes in monitoring.\n3. Attach evidence and close the case.",
    "Module": "Container Booking"
  },
  {
    "Title": "CNTR: Translator rejected EDIFACT COARRI for CONTAINER_ID: segment count mismatch.",
    "Overview": "Translator rejected EDIFACT COARRI for CONTAINER_ID: segment count mismatch, sequence skipped 018→019→021. Missing public milestone though warehouse shows correct move.",
    "Preconditions": null,
    "Resolution": "1. Engaged partner; shared sanitized samples; added pre-ingest normalizer for qualifiers; updated monitoring for repeated segment anomalies.\n1.1 Run schema validator (segments/qualifiers/max-occurrence).\n1.2 Fix qualifier mapping or split oversized occurrences.\n2. Locate the problematic EDI message/file and quarantine it.\n3. Validate structure and partner-specific rules.\n3.1 Run schema validator (segments/qualifiers/max-occurrence).\n3.2 Fix qualifier mapping or split oversized occurrences.\n4. Correct normalization/mapping and reprocess safely.\n4.1 Use idempotency token to prevent duplicates.\n4.2 Re-ingest from quarantine and monitor translator logs.\n5. Verify downstream sequencing and deduplication.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "Container Report"
  },
  {
    "Title": "CNTR: Discrepancy between customer portal and TOS for CONTAINER_ID on voyage VA61",
    "Overview": "Discrepancy between the customer portal and TOS for container CONTAINER_ID on voyage VOYAGE_ID. The portal shows 'Loaded @ LOCATION' while TOS indicates 'In Yard - BLOCK'. An audit trail shows a late yard move event, possibly overwritten by an older milestone. Booking and seal information (placeholders) are included. The last move was handled by YARD_CRANE at LOCATION.",
    "Preconditions": null,
    "Resolution": "1. Investigate Data Discrepancy:\n1.1 Executed Duplicate Message De-duplication to resolve the issue.\n1.2 Ran cross-system comparison and invalidated cache to synchronize data.\n2. Ran cross-system compare and forced cache invalidation.\n3. Re-ordered events by eventTime; replayed 'Yard Move Completed'.\n4. Corrected size/type to manifest truth and locked the attribute for 6 hours.\n5. Published reconciliation summary with sanitized diffs.\n6. Confirm scope and reproduction on a safe test entity.\n7. Check recent deployments/config toggles around the timestamp.\n8. Apply compliant fix and document the change.\n8.1 Capture before/after evidence (screenshots/queries).\n8.2 Update the case with sanitized details.",
    "Verification": "1. Run the end-to-end journey again; confirm success.\n2. No new errors for 30 minutes in monitoring.\n3. Attach evidence and close the case.",
    "Module": "Container Booking"
  },
  {
    "Title": "CNTR: 500 responses and timeouts on '/yard/locations' when querying CONTAINER_ID",
    "Overview": "500 responses and timeouts on '/yard/locations' when querying CONTAINER_ID. slowest 5% of requests latency > 10s; retries exhausted—gaps visible in customer timeline. Coincides with partner load test near PSA Keppel.",
    "Preconditions": null,
    "Resolution": "1. Introduced token-leeway (+60s); purged problematic cache entries; rebuilt hot keys.\n1.1 Check DB slowest 5% of requests latency; look for lock waits.\n1.2 Purge problematic cache keys; warm hot keys if needed.\n2. Shaped traffic during partner tests and published sanitized RCA.\n3. Reproduce the failing call on a safe test entity.\n3.1 Use read-only token; capture status code and latency.\n3.2 Record request ID/correlation ID for log search.\n4. Check API gateway/service health around the incident window.\n5. Review auth and permissions for the calling user/client.\n5.1 Refresh/rotate token; confirm scopes.\n5.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "Container Report"
  },
  {
    "Title": "CNTR: Weight and size attributes for CONTAINER_ID do not align with manifest data",
    "Overview": "Weight and size attributes for CONTAINER_ID do not align with manifest data. OMS lists 22G1 whereas the EDI intake translated to 45R1—slot planning at PSA Pasir Panjang misallocated. Voyage QS19; last known location Block B3. Suspect duplicate CODECO from yesterday caused field overwrite.",
    "Preconditions": null,
    "Resolution": "1. Ran de-duplication on EDI queue and restored the correct CODECO snapshot.\n2. Set precedence to prefer TOS for equipment attributes; added a rule to reject backdated updates within 120 minutes.\n2.1 Archive ACK with timestamp and execution ID.\n2.2 Notify partner with sanitized sample if needed.\n3. Customer notified using a masked ticket reference.\n4. Locate the problematic EDI message/file and quarantine it.\n5. Validate structure and partner-specific rules.\n5.1 Run schema validator (segments/qualifiers/max-occurrence).\n5.2 Fix qualifier mapping or split oversized occurrences.\n6. Correct normalization/mapping and reprocess safely.\n6.1 Use idempotency token to prevent duplicates.\n6.2 Re-ingest from quarantine and monitor translator logs.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "Container Booking"
  },
  {
    "Title": "CNTR: Discrepancy between customer portal and TOS for container CONTAINER_ID on voyage V001",
    "Overview": "Discrepancy between customer portal and TOS for container CONTAINER_ID on voyage V001. Portal shows 'Loaded @ BP02' while TOS indicates 'In Yard - Block J4'. Audit trail reveals a late yard move event, potentially overwritten by an older milestone. Booking BK-CC5O7UUB and seal S2343-PVS included (randomized placeholders). Yard crane QC13 handled the last move at PSA Tanjong Pagar.",
    "Preconditions": null,
    "Resolution": "1. Fixed API mapping for party roles and flushed CDN.\n1.1 Capture before/after evidence (screenshots/queries).\n1.2 Update the case with sanitized details.\n2. Repaired affected records (voyage V001); set monitors for attribute flip-flop bursts.\n3. All identifiers are randomized placeholders.\n4. Confirm scope and reproduction on a safe test entity.\n5. Check recent deployments/config toggles around the timestamp.\n6. Apply compliant fix and document the change.\n6.1 Capture before/after evidence (screenshots/queries).\n6.2 Update the case with sanitized details.",
    "Verification": "1. Run the end-to-end journey again; confirm success.\n2. No new errors for 30 minutes in monitoring.\n3. Attach evidence and close the case.",
    "Module": "Container Booking"
  },
  {
    "Title": "CNTR: Reefer CONTAINER_ID telemetry gap",
    "Overview": "Reefer CONTAINER_ID telemetry gap. Temperature feed offline briefly; backfill later within acceptable range. Yard block G7, handled by YC22.",
    "Preconditions": null,
    "Resolution": "1. Reset telemetry bridge; enabled store-and-forward; alert for >5m gaps; confirmed stability post-recovery; tagged for periodic review.\n2. Confirm scope and reproduction on a safe test entity.\n3. Check recent deployments/config toggles around the timestamp.\n4. Apply compliant fix and document the change.\n4.1 Capture before/after evidence (screenshots/queries).\n4.2 Update the case with sanitized details.\n5. Validate end-to-end user flow.\n5.1 Capture before/after evidence (screenshots/queries).\n5.2 Update the case with sanitized details.",
    "Verification": "1. Run the end-to-end journey again; confirm success.\n2. No new errors for 30 minutes in monitoring.\n3. Attach evidence and close the case.",
    "Module": "Container Booking"
  },
  {
    "Title": "CNTR: Auth token rejection for CONTAINER_ID on '/containers/IRE8QJ/events'",
    "Overview": "Auth token rejection for CONTAINER_ID on '/containers/IRE8QJ/events'. Node clock skew surfacing as intermittent 401/403; partial data for ~18 minutes prior to mitigation.",
    "Preconditions": null,
    "Resolution": "1. Introduced token-leeway (+60s); purged problematic cache entries; rebuilt hot keys.\n1.1 Check DB slowest 5% of requests latency; look for lock waits.\n1.2 Purge problematic cache keys; warm hot keys if needed.\n2. Shaped traffic during partner tests and published sanitized RCA.\n3. Reproduce the failing call on a safe test entity.\n3.1 Use read-only token; capture status code and latency.\n3.2 Record request ID/correlation ID for log search.\n4. Check API gateway/service health around the incident window.\n5. Review auth and permissions for the calling user/client.\n5.1 Refresh/rotate token; confirm scopes.\n5.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "Container Report"
  },
  {
    "Title": "CNTR: Duplicate ANSI X12 214 received with conflicting eventTime for EMCU4728808CONTAINER_ID",
    "Overview": "Duplicate ANSI X12 214 received with conflicting eventTime for EMCU4728808CONTAINER_ID. Later message had older timestamp; last-writer-wins regressed status",
    "Preconditions": null,
    "Resolution": "1. Engaged partner; shared sanitized samples; added pre-ingest normalizer for qualifiers;\nupdated monitoring for repeated segment anomalies.\n1.1 Run schema validator (segments/qualifiers/max-occurrence).\n1.2 Fix qualifier mapping or split oversized occurrences.\n2. Locate the problematic EDI message/file and quarantine it.\n3. Validate structure and partner-specific rules.\n3.1 Run schema validator (segments/qualifiers/max-occurrence).\n3.2 Fix qualifier mapping or split oversized occurrences.\n4. Correct normalization/mapping and reprocess safely.\n4.1 Use idempotency token to prevent duplicates.\n4.2 Re-ingest from quarantine and monitor translator logs.\n5. Verify downstream sequencing and deduplication.",
    "Verification": "1. Confirm next run processed successfully; no duplicates\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "Container Report"
  },
  {
    "Title": "CNTR: Mismatched shipment party codes for CONTAINER_ID",
    "Overview": "Mismatched shipment party codes for CONTAINER_ID. Shipper/consignee swapped after a backfill job. Customer raised billing risk; TOS remains accurate but public API cached the wrong roles. Affected terminal: Tuas Port; booking BK-KMKZEBBK.",
    "Preconditions": null,
    "Resolution": "1. Ran de-duplication on EDI queue and restored the correct CODECO snapshot.\n1.1 Check DB slowest 5% of requests latency; look for lock waits.\n1.2 Purge problematic cache keys; warm hot keys if needed.\n2. Set precedence to prefer TOS for equipment attributes; added a rule to reject backdated updates within 120 minutes.\n3. Customer notified using a masked ticket reference.\n4. Reproduce the failing call on a safe test entity.\n4.1 Use read-only token; capture status code and latency.\n4.2 Record request ID/correlation ID for log search.\n5. Check API gateway/service health around the incident window.\n6. Review auth and permissions for the calling user/client.\n6.1 Refresh/rotate token; confirm scopes.\n6.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "Container Booking"
  },
  {
    "Title": "CNTR: 403 responses and timeouts on '/events/subscribe' when querying CONTAINER_ID",
    "Overview": "403 responses and timeouts on '/events/subscribe' when querying CONTAINER_ID. High latency (slowest 5% of requests > 10s) and exhausted retries resulted in gaps in the customer timeline. This coincided with partner load testing near LOCATION.",
    "Preconditions": null,
    "Resolution": "1. Rolled back gateway buffering; enabled keep-alive upstream.\n2. Raised SLI alerts for error-rate/latency with auto-page.\n3. Coordinated cipher suite update with partner.\n4. Reproduce the failing call on a safe test entity.\n4.1 Use read-only token; capture status code and latency.\n4.2 Record request ID/correlation ID for log search.\n5. Check API gateway/service health around the incident window.\n6. Review auth and permissions for the calling user/client.\n6.1 Refresh/rotate token; confirm scopes.\n6.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "Container Report"
  },
  {
    "Title": "CNTR: Auth token rejection for CONTAINER_ID on '/auth/token'",
    "Overview": "Auth token rejection for CONTAINER_ID on '/auth/token'. Node clock skew surfacing as intermittent 401/403; partial data for ~18 minutes prior to mitigation.",
    "Preconditions": null,
    "Resolution": "1. Investigate Auth Token Rejection:\n1.1 Applied Data Mismatch Escalation Workflow to resolve token rejection.\n1.2 Tuned retry backoff, scaled read replicas, and synchronized NTP to mitigate intermittent 401/403 errors.\n2. Tuned retry backoff and timeouts; scaled read replicas; enabled request coalescing.\n3. Rotated OAuth keys and hard-synced NTP; added idempotency on callbacks.\n3.1 Refresh/rotate token; confirm scopes.\n3.2 Verify NTP/clock skew; resync if >2 seconds.\n4. Reproduce the failing call on a safe test entity.\n4.1 Use read-only token; capture status code and latency.\n4.2 Record request ID/correlation ID for log search.\n5. Check API gateway/service health around the incident window.\n6. Review auth and permissions for the calling user/client.\n6.1 Refresh/rotate token; confirm scopes.\n6.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "Container Booking"
  },
  {
    "Title": "CNTR: OCR misread of container ID in the gate system, triggering a lane hold",
    "Overview": "Gate OCR misread ID for CONTAINER_ID, triggering a lane hold. Seal verification (placeholders) showed a mismatch with the manifest, causing a delayed dispatch. Queue was built at LOCATION.",
    "Preconditions": null,
    "Resolution": "1. Investigate OCR Misread:\n1.1 Manual verification and applied Duplicate Message De-duplication.\n1.2 Corrected seal entry, routed OCR misreads to manual validation, and retrained OCR with low-light samples.\n2. Corrected seal entry; routed doubtful OCR reads to manual validation for 24h; retrained OCR with low-light samples; issued ops bulletin.\n3. Compare authoritative sources and capture the exact delta.\n3.1 Check status/location/size-type fields.\n3.2 Capture last-updated timestamps from each system.\n4. Check event sequencing; identify missing/late/out-of-order events.\n4.1 Sort milestones by eventTime.\n5. Trigger a targeted re-sync or corrective update per SOP.\n5.1 Sort milestones by eventTime.\n5.2 Replay missing yard move/completion if allowed by SOP.",
    "Verification": "1. Re-open both systems and confirm fields align (status/location/size-type).\n2. Ensure event ordering is correct; no stale updates reappear.\n3. Attach before/after screenshots or queries.",
    "Module": "Container Report"
  },
  {
    "Title": "CNTR: Discrepancy between customer portal and TOS for container CONTAINER_ID on voyage VA61",
    "Overview": "Discrepancy between customer portal and TOS for container CONTAINER_ID on voyage VOYAGE_ID. The portal shows 'Loaded @ LOCATION' while TOS indicates 'In Yard - BLOCK'. An audit trail reveals a late yard move event, possibly overwritten by an older milestone. Booking and seal information (placeholders) are included. The last move was handled by YARD_CRANE at LOCATION.",
    "Preconditions": null,
    "Resolution": "1. Investigate Data Discrepancy:\n1.1 Executed Manual Override & Audit Trail to resolve the discrepancy.\n1.2 Ran cross-system comparison and invalidated cache to synchronize data.\n2. Ran cross-system compare and forced cache invalidation.\n3. Re-ordered events by eventTime; replayed 'Yard Move Completed'.\n4. Corrected size/type to manifest truth and locked the attribute for 6 hours.\n5. Published reconciliation summary with sanitized diffs.\n6. Confirm scope and reproduction on a safe test entity.\n7. Check recent deployments/config toggles around the timestamp.\n8. Apply compliant fix and document the change.\n8.1 Capture before/after evidence (screenshots/queries).\n8.2 Update the case with sanitized details.",
    "Verification": "1. Run the end-to-end journey again; confirm success.\n2. No new errors for 30 minutes in monitoring.\n3. Attach evidence and close the case.",
    "Module": "Container Booking"
  },
  {
    "Title": "CNTR: Translator rejected EDIFACT COARRI for CONTAINER_ID: segment count mismatch, sequence skipped",
    "Overview": "Translator rejected EDIFACT COARRI for CONTAINER_ID: segment count mismatch, sequence skipped 018→019→021. Missing public milestone though warehouse shows correct move.",
    "Preconditions": null,
    "Resolution": "1. Enabled conflict resolution preferring max(eventTime); replayed from quarantine; validated against TOS/warehouse scans; added anomaly detection for >30m skews.\n1.1 Run schema validator (segments/qualifiers/max-occurrence).\n1.2 Fix qualifier mapping or split oversized occurrences.\n2. Locate the problematic EDI message/file and quarantine it.\n3. Validate structure and partner-specific rules.\n3.1 Run schema validator (segments/qualifiers/max-occurrence).\n3.2 Fix qualifier mapping or split oversized occurrences.\n4. Correct normalization/mapping and reprocess safely.\n4.1 Use idempotency token to prevent duplicates.\n4.2 Re-ingest from quarantine and monitor translator logs.\n5. Verify downstream sequencing and deduplication.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "Container Report"
  },
  {
    "Title": "CNTR: Callback delivery failures for CONTAINER_ID",
    "Overview": "Callback delivery failures for CONTAINER_ID. Webhook sender faced 502 due to peer TLS renegotiation. Queue grew and breaker opened. Affected endpoint '/bookings/search'.",
    "Preconditions": null,
    "Resolution": "1. Investigate Callback Delivery Failure:\n1.1 Applied API Timeout & Retry Policy to mitigate 502 errors.\n1.2 Tuned retry backoff, scaled read replicas, and enabled request coalescing to reduce latency and improve reliability.\n2. Tuned retry backoff and timeouts; scaled read replicas; enabled request coalescing.\n3. Rotated OAuth keys and hard-synced NTP; added idempotency on callbacks.\n3.1 Refresh/rotate token; confirm scopes.\n3.2 Verify NTP/clock skew; resync if >2 seconds.\n4. Reproduce the failing call on a safe test entity.\n4.1 Use read-only token; capture status code and latency.\n4.2 Record request ID/correlation ID for log search.\n5. Check API gateway/service health around the incident window.\n6. Review auth and permissions for the calling user/client.\n6.1 Refresh/rotate token; confirm scopes.\n6.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "Container Booking"
  },
  {
    "Title": "CNTR: Callback delivery failures for CONTAINER_ID",
    "Overview": "Callback delivery failures for CONTAINER_ID. Webhook sender faced 504 due to peer TLS renegotiation. Queue grew and breaker opened. Affected endpoint '/auth/token'.",
    "Preconditions": null,
    "Resolution": "1. Investigate Callback Delivery Failure:\n1.1 Applied Manual Override & Audit Trail to address callback issues.\n1.2 Tuned retry backoff, scaled read replicas, and enabled request coalescing to mitigate 504 errors.\n2. Tuned retry backoff and timeouts; scaled read replicas; enabled request coalescing.\n3. Rotated OAuth keys and hard-synced NTP; added idempotency on callbacks.\n3.1 Refresh/rotate token; confirm scopes.\n3.2 Verify NTP/clock skew; resync if >2 seconds.\n4. Reproduce the failing call on a safe test entity.\n4.1 Use read-only token; capture status code and latency.\n4.2 Record request ID/correlation ID for log search.\n5. Check API gateway/service health around the incident window.\n6. Review auth and permissions for the calling user/client.\n6.1 Refresh/rotate token; confirm scopes.\n6.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "Container Booking"
  },
  {
    "Title": "CNTR: Inbound EDIFACT IFTSTA failed schema validation: unexpected qualifier in EQD for CONTAINER_ID",
    "Overview": "Inbound EDIFACT IFTSTA failed schema validation: unexpected qualifier in EQD for CONTAINER_ID. Downstream event not created; timeline incomplete.",
    "Preconditions": null,
    "Resolution": "1. Enabled conflict resolution preferring max(eventTime); replayed from quarantine; validated against TOS/warehouse scans; added anomaly detection for >30m skews.\n2. Reproduce the failing call on a safe test entity.\n2.1 Use read-only token; capture status code and latency.\n2.2 Record request ID/correlation ID for log search.\n3. Check API gateway/service health around the incident window.\n4. Review auth and permissions for the calling user/client.\n4.1 Refresh/rotate token; confirm scopes.\n4.2 Verify NTP/clock skew; resync if >2 seconds.\n5. Check upstream dependencies (DB/cache/queue) for latency or errors.\n5.1 Check DB slowest 5% of requests latency; look for lock waits.\n5.2 Purge problematic cache keys; warm hot keys if needed.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "Container Booking"
  },
  {
    "Title": "CNTR: Mismatched shipment party codes for CONTAINER_ID",
    "Overview": "Mismatched shipment party codes for CONTAINER_ID. Shipper/consignee swapped after a backfill job. Customer raised billing risk; TOS remains accurate but public API cached the wrong roles. Affected terminal: LOCATION; booking BOOKING_NUMBER.",
    "Preconditions": null,
    "Resolution": "1. Investigate Mismatched Shipment Party Codes:\n1.1 Executed Customer Notification & RCA Communications to address the issue.\n1.2 Ran cross-system comparison, invalidated cache, and purged problematic cache keys to synchronize data.\n2. Ran cross-system compare and forced cache invalidation.\n2.1 Check DB slowest 5% of requests latency; look for lock waits.\n2.2 Purge problematic cache keys; warm hot keys if needed.\n3. Re-ordered events by eventTime; replayed 'Yard Move Completed'.\n4. Corrected size/type to manifest truth and locked the attribute for 6 hours.\n5. Published reconciliation summary with sanitized diffs.\n6. Reproduce the failing call on a safe test entity.\n6.1 Use read-only token; capture status code and latency.\n6.2 Record request ID/correlation ID for log search.\n7. Check API gateway/service health around the incident window.\n8. Review auth and permissions for the calling user/client.\n8.1 Refresh/rotate token; confirm scopes.\n8.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "Container Booking"
  },
  {
    "Title": "CNTR: Auth token rejection for CONTAINER_ID on '/bookings/search'",
    "Overview": "Auth token rejection for CONTAINER_ID on '/bookings/search'. Node clock skew surfacing as intermittent 401/403; partial data for ~18 minutes prior to mitigation..",
    "Preconditions": null,
    "Resolution": "1. Rolled back gateway buffering; enabled keep-alive upstream.\n2. Raised SLI alerts for error-rate/latency with auto-page.\n3. Coordinated cipher suite update with partner.\n4. Reproduce the failing call on a safe test entity.\n4.1 Use read-only token; capture status code and latency.\n4.2 Record request ID/correlation ID for log search.\n5. Check API gateway/service health around the incident window.\n6. Review auth and permissions for the calling user/client.\n6.1 Refresh/rotate token; confirm scopes.\n6.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case",
    "Module": "Container Report"
  },
  {
    "Title": "CNTR: Translator rejected EDIFACT IFTSTA for CONTAINER_ID: segment count mismatch",
    "Overview": "Translator rejected EDIFACT IFTSTA for CONTAINER_ID: segment count mismatch, sequence skipped 018→019→021. Missing public milestone though warehouse shows correct move.",
    "Preconditions": null,
    "Resolution": "1. Enabled conflict resolution preferring max(eventTime); replayed from quarantine; validated against TOS/warehouse scans; added anomaly detection for >30m skews.\n1.1 Run schema validator (segments/qualifiers/max-occurrence).\n1.2 Fix qualifier mapping or split oversized occurrences.\n2. Locate the problematic EDI message/file and quarantine it.\n3. Validate structure and partner-specific rules.\n3.1 Run schema validator (segments/qualifiers/max-occurrence).\n3.2 Fix qualifier mapping or split oversized occurrences.\n4. Correct normalization/mapping and reprocess safely.\n4.1 Use idempotency token to prevent duplicates.\n4.2 Re-ingest from quarantine and monitor translator logs.\n5. Verify downstream sequencing and deduplication.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "Container Report"
  },
  {
    "Title": "CNTR: Mismatched shipment party codes for CONTAINER_ID",
    "Overview": "Mismatched shipment party codes for CONTAINER_ID. Shipper/consignee swapped after a backfill job. Customer raised billing risk; TOS remains accurate but public API cached the wrong roles. Affected terminal: LOCATION; booking BOOKING_NUMBER.",
    "Preconditions": null,
    "Resolution": "1. Fixed API mapping for party roles and flushed CDN.\n2. Repaired affected records (voyage ZX77); set monitors for attribute flip-flop bursts.\n3. All identifiers are randomized placeholders.\n4. Reproduce the failing call on a safe test entity.\n4.1 Use read-only token; capture status code and latency.\n4.2 Record request ID/correlation ID for log search.\n5. Check API gateway/service health around the incident window.\n6. Review auth and permissions for the calling user/client.\n6.1 Refresh/rotate token; confirm scopes.\n6.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "Container Booking"
  },
  {
    "Title": "VSL: HI Team, Similar with previous case: TICKET_NUMBER where we have duplicate Abbreviated Vessel Name.",
    "Overview": "Case: TICKET_NUMBER where we have duplicate Abbreviated Vessel Name.\nPlease assist to change Abbreviated Vessel Name for new VESSEL_NUMBER with callsign CALLSIGN_ID to be VESSEL_NAME_SHORT i/o VESSEL_NAME_LONG to avoid same name with callsign CALLSIGN_ID2 as showing error on below screenshot while creating new Vessel Advice.",
    "Preconditions": null,
    "Resolution": "1. SQLB patch and Please ask user to retry\n2. Confirm scope and reproduction on a safe test entity.\n3. Check recent deployments/config toggles around the timestamp.\n4. Apply compliant fix and document the change.\n4.1 Capture before/after evidence (screenshots/queries).\n4.2 Update the case with sanitized details.\n5. Validate end-to-end user flow.\n5.1 Capture before/after evidence (screenshots/queries).\n5.2 Update the case with sanitized details.",
    "Verification": "1. Run the end-to-end journey again; confirm success.\n2. No new errors for 30 minutes in monitoring.\n3. Attach evidence and close the case.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: BAPLIE inconsistency for VESSEL_ID: COARRI shows discharge completed for bay BAY_NUMBER, but BAPLIE still lists units in those slots. Older timestamp regressed the plan",
    "Overview": "BAPLIE inconsistency for VESSEL_ID: COARRI shows discharge completed for bay BAY_NUMBER, but BAPLIE still lists units in those slots. Older timestamp regressed the plan.",
    "Preconditions": null,
    "Resolution": "1. Investigate Timestamp Discrepancy\n1.1 Check timestamps across BAPLIE, stowage plan, and discharge records.\n1.2 Identify where older timestamps are regressing newer discharge data.\n2. Enabled conflict resolution preferring max(eventTime); reprocessed from quarantine; verified stowage/discharge alignment across systems.\n2.1 Use idempotency token to prevent duplicates.\n2.2 Re-ingest from quarantine and monitor translator logs.\n3. Communications used masked ticket references where applicable.\n4. Locate the problematic EDI message/file and quarantine it.\n5. Validate structure and partner-specific rules.\n5.1 Run schema validator (segments/qualifiers/max-occurrence).\n5.2 Fix qualifier mapping or split oversized occurrences.\n6. Correct normalization/mapping and reprocess safely.\n6.1 Use idempotency token to prevent duplicates.\n6.2 Re-ingest from quarantine and monitor translator logs.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: ETA/ETB mismatch for VESSEL_ID on voyage VOYAGE_ID",
    "Overview": "ETA/ETB mismatch for VESSEL_ID on voyage VOYAGE_ID. Berth plan shows ETB at LOCATION while TOS differs by >90 minutes due to tidal constraints. Partner portal still displays outdated ETA; yard resource plan at LOCATION reflects older figures. Pilotage request pending; quay CRANE_LOCATION crane allocation misaligned.",
    "Preconditions": null,
    "Resolution": "1. Investigate ETA/ETB Mismatch:\n1.1 Check ETA/ETB discrepancies between berth plan and TOS.\n2. Reconciled ETA/ETB across systems; normalized times to port TZ and re-published.\n3. Triggered berth plan recalculation and crane profile refresh.\n4. Added drift guard to auto-alert on >30 min divergence.\n5. Communications used masked ticket references where applicable.\n6. Compare authoritative sources and capture the exact delta.\n6.1 Check status/location/size-type fields.\n6.2 Capture last-updated timestamps from each system.\n7. Check event sequencing; identify missing/late/out-of-order events.\n8. Trigger a targeted re-sync or corrective update per SOP.\n8.1 Sort milestones by eventTime.\n8.2 Replay missing yard move/completion if allowed by SOP.",
    "Verification": "1. Re-open both systems and confirm fields align (status/location/size-type).\n2. Ensure event ordering is correct; no stale updates reappear.\n3. Attach before/after screenshots or queries.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: Schedule API intermittently returns 403 for VESSEL_ID; slowest 5% of requests latency > 12s",
    "Overview": "Schedule API intermittently returns 403 for VESSEL_ID; slowest 5% of requests latency > 12s. External subscribers missed webhook pushes; fallback polling exposed gaps in berth window at LOCATION.",
    "Preconditions": null,
    "Resolution": "1. Investigate API 403 Failure:\n1.1 Check the Schedule API for intermittent 403 errors and high latency.\n1.2 Increase timeout, tune backoff settings, and enable request coalescing.\n2. Increased timeout, tuned backoff, enabled request coalescing.\n3. Rotated OAuth keys; enforced clock-skew tolerance; added SLI alerts for error-rate/latency.\n3.1 Refresh/rotate token; confirm scopes.\n3.2 Verify NTP/clock skew; resync if >2 seconds.\n4. Communications used masked ticket references where applicable.\n5. Reproduce the failing call on a safe test entity.\n5.1 Use read-only token; capture status code and latency.\n5.2 Record request ID/correlation ID for log search.\n6. Check API gateway/service health around the incident window.\n7. Review auth and permissions for the calling user/client.\n7.1 Refresh/rotate token; confirm scopes.\n7.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: Schedule API intermittently returns 500 for VESSEL_ID; slowest 5% of requests latency > 12s",
    "Overview": "Schedule API intermittently returns 500 for VESSEL_ID; slowest 5% of requests latency > 12s. External subscribers missed webhook pushes; fallback polling exposed gaps in berth window at LOCATION.",
    "Preconditions": null,
    "Resolution": "1. Investigate API 500 Failure:\n1.1 Check the Schedule API for intermittent 500 errors and high latency.\n1.2 Increase timeout, tune backoff settings, and enable request coalescing.\n2. Increased timeout, tuned backoff, enabled request coalescing.\n3. Rotated OAuth keys; enforced clock-skew tolerance; added SLI alerts for error-rate/latency.\n3.1 Refresh/rotate token; confirm scopes.\n3.2 Verify NTP/clock skew; resync if >2 seconds.\n4. Communications used masked ticket references where applicable.\n5. Reproduce the failing call on a safe test entity.\n5.1 Use read-only token; capture status code and latency.\n6. Check API gateway/service health around the incident window.\n7. Review auth and permissions for the calling user/client.\n7.1 Refresh/rotate token; confirm scopes.\n7.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: Schedule API intermittently returns 504 for VESSEL_ID; slowest 5% of requests latency > 12s",
    "Overview": "Schedule API intermittently returns 504 for VESSEL_ID; slowest 5% of requests latency > 12s. External subscribers missed webhook pushes; fallback polling exposed gaps in berth window at LOCATION.",
    "Preconditions": null,
    "Resolution": "1. Investigate API 504 Failure:\n1.1 Check the Schedule API for intermittent 504 errors and high latency.\n1.2 Increase timeout, tune backoff settings, and enable request coalescing.\n2. Increased timeout, tuned backoff, enabled request coalescing.\n3. Rotated OAuth keys; enforced clock-skew tolerance; added SLI alerts for error-rate/latency.\n3.1 Refresh/rotate token; confirm scopes.\n3.2 Verify NTP/clock skew; resync if >2 seconds.\n4. Communications used masked ticket references where applicable.\n5. Reproduce the failing call on a safe test entity.\n5.1 Use read-only token; capture status code and latency.\n5.2 Record request ID/correlation ID for log search.\n6. Check API gateway/service health around the incident window.\n7. Review auth and permissions for the calling user/client.\n7.1 Refresh/rotate token; confirm scopes.\n7.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: EDIFACT COPRAR inconsistency for VESSEL_ID; COARRI shows discharge completed for bay BAY_NUMBER, but BAPLIE still lists units in those slots. Older timestamp regressed the plan.",
    "Overview": "EDIFACT COPRAR inconsistency for VESSEL_ID: COARRI shows discharge completed for bay BAY_NUMBER, but BAPLIE still lists units in those slots. Older timestamp regressed the plan.",
    "Preconditions": null,
    "Resolution": "1. Investigate BAPLIE Discrepancy:\n1.1 Check for older timestamps causing regression in the discharge plan.\n2. Enabled conflict resolution preferring max(eventTime); reprocessed from quarantine; verified stowage/discharge alignment across systems.\n2.1 Use idempotency token to prevent duplicates.\n2.2 Re-ingest from quarantine and monitor translator logs.\n3. Communications used masked ticket references where applicable.\n4. Locate the problematic EDI message/file and quarantine it.\n5. Validate structure and partner-specific rules.\n5.1 Run schema validator (segments/qualifiers/max-occurrence).\n5.2 Fix qualifier mapping or split oversized occurrences.\n6. Correct normalization/mapping and reprocess safely.\n6.1 Use idempotency token to prevent duplicates.\n6.2 Re-ingest from quarantine and monitor translator logs.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: Weather-Related Delay & Scheduling Adjustment SOP",
    "Overview": "Pilotage delay due to weather; VESSEL_ID missed ETB LOCATION slot. Towage reschedule pending; ripple effects on crane sequencing at quay CRANE_LOCATION in LOCATION.",
    "Preconditions": null,
    "Resolution": "1. Investigate Weather Delay Impact on System:\n1.1 Triggered weather diversion workflow in the scheduling system to adjust ETA and re-sequence berth windows.\n1.2 Automated reallocation of cranes and system update for updated scheduling.\n2. Applied system updates to adjust scheduling based on weather input from external data feeds.\n3. Ensure communication to stakeholders using sanitized system-generated updates.\n4. Confirm scope and reproduce the issue on a safe test system.\n5. Review recent deployments/config toggles around the incident timestamp to ensure no configuration drift.\n6. Apply a compliant fix to the scheduling system and document the change.\n6.1 Capture before/after evidence (system logs, test queries, etc.).\n6.2 Update the case with sanitized details for tracking.",
    "Verification": "1. Run the end-to-end system journey again, verifying that the scheduling system adjusts for weather delays as expected.\n2. Monitor system logs for no new errors for 30 minutes after fix deployment.\n3.Attach evidence (system logs, test results) and close the case.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: ANSI X12 315 inconsistency for VESSEL_ID: COARRI shows discharge completed for bay BAY_NUMBER",
    "Overview": "ANSI X12 315 inconsistency for VESSEL_ID: COARRI shows discharge completed for bay BAY_NUMBER, but BAPLIE still lists units in those slots. Older timestamp regressed the plan",
    "Preconditions": null,
    "Resolution": "1. Investigate EDI Message Inconsistency:\n1.1 Followed Vessel API Timeout & Retry process to resolve timestamp regression.\n2. Enabled conflict resolution preferring max(eventTime); reprocessed from quarantine; verified stowage/discharge alignment across systems.\n2.1 Use idempotency token to prevent duplicates.\n2.2 Re-ingest from quarantine and monitor translator logs.\n3. Communications used masked ticket references where applicable.\n4. Locate the problematic EDI message/file and quarantine it.\n5. Validate structure and partner-specific rules.\n5.1 Run schema validator (segments/qualifiers/max-occurrence).\n5.2 Fix qualifier mapping or split oversized occurrences.\n6. Correct normalization/mapping and reprocess safely.\n6.1 Use idempotency token to prevent duplicates.\n6.2 Re-ingest from quarantine and monitor translator logs.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: Schedule API intermittently returns 502 for VESSEL_ID; slowest 5% of requests latency > 12s",
    "Overview": "Schedule API intermittently returns 502 for VESSEL_ID; slowest 5% of requests latency > 12s. External subscribers missed webhook pushes; fallback polling exposed gaps in berth window at LOCATION.",
    "Preconditions": null,
    "Resolution": "1. Investigate API 502 Failure:\n1.1 Applied Berth Window Coordination process to mitigate impact.\n1.2 Increased timeout, tuned backoff, and enabled request coalescing to address latency and error rate.\n2. Increased timeout, tuned backoff, enabled request coalescing.\n3. Rotated OAuth keys; enforced clock-skew tolerance; added SLI alerts for error-rate/latency.\n3.1 Refresh/rotate token; confirm scopes.\n3.2 Verify NTP/clock skew; resync if >2 seconds.\n4. Communications used masked ticket references where applicable.\n5. Reproduce the failing call on a safe test entity.\n5.1 Use read-only token; capture status code and latency.\n5.2 Record request ID/correlation ID for log search.\n6. Check API gateway/service health around the incident window.\n7. Review auth and permissions for the calling user/client.\n7.1 Refresh/rotate token; confirm scopes.\n7.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: ANSI X12 301 inconsistency for VESSEL_ID: COARRI shows discharge completed for bay BAY_NUMBER",
    "Overview": "ANSI X12 301 inconsistency for VESSEL_ID: COARRI shows discharge completed for bay BAY_NUMBER, but BAPLIE still lists units in those slots. Older timestamp regressed the plan.",
    "Preconditions": null,
    "Resolution": "1. Investigate EDI Message Inconsistency:\n1.1 Followed BAPLIE/COPRAR Verification process to resolve timestamp regression.\n1.2 Reconcile discharge data and reprocess from quarantine to ensure alignment across systems.\n2. Enabled conflict resolution preferring max(eventTime); reprocessed from quarantine; verified stowage/discharge alignment across systems.\n2.1 Use idempotency token to prevent duplicates.\n2.2 Re-ingest from quarantine and monitor translator logs.\n3. Communications used masked ticket references where applicable.\n4. Locate the problematic EDI message/file and quarantine it.\n5. Validate structure and partner-specific rules.\n5.1 Run schema validator (segments/qualifiers/max-occurrence).6. Correct normalization/mapping and reprocess safely.\n6.1 Use idempotency token to prevent duplicates.\n6.2 Re-ingest from quarantine and monitor translator logs.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: ETA/ETB mismatch for VESSEL_ID on voyage VOYAGE_ID",
    "Overview": "ETA/ETB mismatch for VESSEL_ID on voyage VOYAGE_ID. Berth plan shows ETB at LOCATION while TOS differs by >90 minutes due to tidal constraints. Partner portal still displays outdated ETA; yard resource plan at LOCATION reflects older figures. Pilotage request pending; quay CRANE_LOCATION crane allocation misaligned.",
    "Preconditions": null,
    "Resolution": "1. Investigate ETA/ETB Mismatch:\n1.1 Reconcile ETA/ETB discrepancies across systems, normalizing to port timezone.\n1.2 Recalculate berth plan and refresh crane profiles to align with updated times.\n2. Reconciled ETA/ETB across systems; normalized times to port TZ and re-published.\n3. Triggered berth plan recalculation and crane profile refresh.\n4. Added drift guard to auto-alert on >30 min divergence.\n5. Communications used masked ticket references where applicable.\n6. Compare authoritative sources and capture the exact delta.\n7. Check event sequencing; identify missing/late/out-of-order events.\n7.1 Sort milestones by eventTime.\n7.2 Replay missing yard move/completion if allowed by SOP.\n8. Trigger a targeted re-sync or corrective update per SOP.\n8.1 Sort milestones by eventTime.\n8.2 Replay missing yard move/completion if allowed by SOP.",
    "Verification": "1. Re-open both systems and confirm fields align (status/location/size-type).\n2. Ensure event ordering is correct; no stale updates reappear.\n3. Attach before/after screenshots or queries.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: BAPLIE inconsistency for VESSEL_ID: COARRI shows discharge completed for bay BAY_NUMBER",
    "Overview": "BAPLIE inconsistency for VESSEL_ID: COARRI shows discharge completed for bay BAY_NUMBER, but BAPLIE still lists units in those slots. Older timestamp regressed the plan.",
    "Preconditions": null,
    "Resolution": "1. Investigate BAPLIE Inconsistency:\n1.1 Followed BAPLIE/COPRAR Verification process to resolve timestamp regression.\n2. Enabled conflict resolution preferring max(eventTime); reprocessed from quarantine; verified stowage/discharge alignment across systems.\n2.1 Use idempotency token to prevent duplicates.\n2.2 Re-ingest from quarantine and monitor translator logs.\n3. Communications used masked ticket references where applicable.\n4. Locate the problematic EDI message/file and quarantine it.\n5. Validate structure and partner-specific rules.\n5.1 Run schema validator (segments/qualifiers/max-occurrence).\n5.2 Fix qualifier mapping or split oversized occurrences.\n6. Correct normalization/mapping and reprocess safely.\n6.1 Use idempotency token to prevent duplicates.\n6.2 Re-ingest from quarantine and monitor translator logs.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: ANSI X12 301 inconsistency for VESSEL_ID: COARRI shows discharge completed for bay BAY_NUMBER",
    "Overview": "ANSI X12 301 inconsistency for VESSEL_ID: COARRI shows discharge completed for bay BAY_NUMBER, but BAPLIE still lists units in those slots. Older timestamp regressed the plan.",
    "Preconditions": null,
    "Resolution": "1. Investigate EDI Inconsistency:\n1.1 Followed Duplicate EDI De-duplication process to resolve timestamp regression.\n2. Enabled conflict resolution preferring max(eventTime); reprocessed from quarantine; verified stowage/discharge alignment across systems.\n2.1 Use idempotency token to prevent duplicates.\n2.2 Re-ingest from quarantine and monitor translator logs.\n3. Communications used masked ticket references where applicable.\n4. Locate the problematic EDI message/file and quarantine it.\n5. Validate structure and partner-specific rules.\n5.1 Run schema validator (segments/qualifiers/max-occurrence).\n5.2 Fix qualifier mapping or split oversized occurrences.\n6. Correct normalization/mapping and reprocess safely.\n6.1 Use idempotency token to prevent duplicates.\n6.2 Re-ingest from quarantine and monitor translator logs.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: Schedule API intermittently returns 401 for VESSEL_ID; slowest 5% of requests latency > 12s",
    "Overview": "Schedule API intermittently returns 401 for VESSEL_ID; slowest 5% of requests latency > 12s. External subscribers missed webhook pushes; fallback polling exposed gaps in berth window at LOCATION.",
    "Preconditions": null,
    "Resolution": "1. Investigate API 401 Failure:\n1.1 Followed BAPLIE/COPRAR Verification process to address authentication issues.\n1.2 Increase timeout, tune backoff settings, and rotate OAuth keys to resolve 401 errors.\n2. Increased timeout, tuned backoff, enabled request coalescing.\n3. Rotated OAuth keys; enforced clock-skew tolerance; added SLI alerts for error-rate/latency.\n3.1 Refresh/rotate token; confirm scopes.\n3.2 Verify NTP/clock skew; resync if >2 seconds.\n4. Communications used masked ticket references where applicable.\n5. Reproduce the failing call on a safe test entity.\n5.1 Use read-only token; capture status code and latency.\n5.2 Record request ID/correlation ID for log search.\n6. Check API gateway/service health around the incident window.\n7. Review auth and permissions for the calling user/client.\n7.1 Refresh/rotate token; confirm scopes.\n7.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: ETA/ETB mismatch for VESSEL_ID on voyage VOYAGE_ID",
    "Overview": "ETA/ETB mismatch for VESSEL_ID on voyage VOYAGE_ID. Berth plan shows ETB at LOCATION while TOS differs by >90 minutes due to tidal constraints. Partner portal still displays outdated ETA; yard resource plan at LOCATION reflects older figures. Pilotage request pending; quay CRANE_LOCATION crane allocation misaligned.",
    "Preconditions": null,
    "Resolution": "1. Investigate ETA/ETB Mismatch:\n1.1 Executed Manual Override & Audit Trail to reconcile ETA/ETB across systems.\n1.2 Normalize times to port timezone and trigger berth plan recalculation.\n2. Reconciled ETA/ETB across systems; normalized times to port TZ and re-published.\n3. Triggered berth plan recalculation and crane profile refresh.\n4. Added drift guard to auto-alert on >30 min divergence.\n5. Communications used masked ticket references where applicable.\n6. Compare authoritative sources and capture the exact delta.\n6.1 Check status/location/size-type fields.\n7. Check event sequencing; identify missing/late/out-of-order events.\n7.1 Sort milestones by eventTime.\n8. Trigger a targeted re-sync or corrective update per SOP.\n8.1 Sort milestones by eventTime.\n8.2 Replay missing yard move/completion if allowed by SOP.",
    "Verification": "1. Re-open both systems and confirm fields align (status/location/size-type).\n2. Ensure event ordering is correct; no stale updates reappear.\n3. Attach before/after screenshots or queries.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: ETA/ETB mismatch for VESSEL_ID on voyage VOYAGE_ID",
    "Overview": "ETA/ETB mismatch for VESSEL_ID on voyage VOYAGE_ID. Berth plan shows ETB at LOCATION while TOS differs by >90 minutes due to tidal constraints. Partner portal still displays outdated ETA; yard resource plan at LOCATION reflects older figures. Pilotage request pending; quay CRANE_LOCATION crane allocation misaligned.",
    "Preconditions": null,
    "Resolution": "1. Investigate ETA/ETB Mismatch:\n1.1 Executed Pilotage & Towage Delay Workflow to address mismatch.\n1.2 Reconcile ETA/ETB across systems, normalize times to port timezone, and trigger recalculation of berth plan and crane profiles.\n2. Reconciled ETA/ETB across systems; normalized times to port TZ and re-published.\n3. Triggered berth plan recalculation and crane profile refresh.\n4. Added drift guard to auto-alert on >30 min divergence.\n5. Communications used masked ticket references where applicable.\n6. Compare authoritative sources and capture the exact delta.\n6.1 Check status/location/size-type fields.\n6.2 Capture last-updated timestamps from each system.\n7. Check event sequencing; identify missing/late/out-of-order events.\n7.1 Sort milestones by eventTime.\n8. Trigger a targeted re-sync or corrective update per SOP.",
    "Verification": "1. Re-open both systems and confirm fields align (status/location/size-type).\n2. Ensure event ordering is correct; no stale updates reappear.\n3. Attach before/after screenshots or queries.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: BAPLIE inconsistency for VESSEL_ID: COARRI shows discharge completed for bay BAY_NUMBER",
    "Overview": "BAPLIE inconsistency for VESSEL_ID: COARRI shows discharge completed for bay BAY_NUMBER, but BAPLIE still lists units in those slots. Older timestamp regressed the plan.",
    "Preconditions": null,
    "Resolution": "1. Investigate BAPLIE Inconsistency:\n1.1 Followed Pilotage & Towage Delay Workflow to address timestamp regression.\n1.2 Reconcile discharge data and reprocess from quarantine, ensuring alignment across systems.\n2. Enabled conflict resolution preferring max(eventTime); reprocessed from quarantine; verified stowage/discharge alignment across systems.\n2.1 Use idempotency token to prevent duplicates.\n2.2 Re-ingest from quarantine and monitor translator logs.\n3. Communications used masked ticket references where applicable.\n4. Locate the problematic EDI message/file and quarantine it.\n5. Validate structure and partner-specific rules.\n5.1 Run schema validator (segments/qualifiers/max-occurrence).\n5.2 Fix qualifier mapping or split oversized occurrences.\n6. Correct normalization/mapping and reprocess safely.\n6.1 Use idempotency token to prevent duplicates.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: ETA/ETB mismatch for VESSEL_ID on voyage VOYAGE_ID",
    "Overview": "ETA/ETB mismatch for VESSEL_ID on voyage VOYAGE_ID. Berth plan shows ETB at LOCATION while TOS differs by >90 minutes due to tidal constraints. Partner portal still displays outdated ETA; yard resource plan at LOCATION reflects older figures. Pilotage request pending; quay CRANE_LOCATION crane allocation misaligned.",
    "Preconditions": null,
    "Resolution": "1. Investigate ETA/ETB Mismatch:\n1.1 Executed Berth Window Coordination to resolve ETA/ETB discrepancies.\n1.2 Reconcile ETA/ETB across systems, normalize times to port timezone, and trigger recalculation of berth plan and crane profiles.\n2. Reconciled ETA/ETB across systems; normalized times to port TZ and re-published.\n3. Triggered berth plan recalculation and crane profile refresh.\n4. Added drift guard to auto-alert on >30 min divergence.\n5. Communications used masked ticket references where applicable.\n6. Compare authoritative sources and capture the exact delta.\n6.1 Check status/location/size-type fields.\n6.2 Capture last-updated timestamps from each system.\n7. Check event sequencing; identify missing/late/out-of-order events.\n7.1 Sort milestones by eventTime.\n7.2 Replay missing yard move/completion if allowed by SOP.\n8. Trigger a targeted re-sync or corrective update per SOP.\n8.1 Sort milestones by eventTime.\n8.2 Replay missing yard move/completion if allowed by SOP.",
    "Verification": "1. Re-open both systems and confirm fields align (status/location/size-type).\n2. Ensure event ordering is correct; no stale updates reappear.\n3. Attach before/after screenshots or queries.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: Pilotage delay due to weather; VESSEL_ID missed ETB LOCATION slot",
    "Overview": "Pilotage delay due to weather; VESSEL_ID missed ETB LOCATION slot. Towage reschedule pending; ripple effects on crane sequencing at quay CRANE_LOCATION in LOCATION.",
    "Preconditions": null,
    "Resolution": "1. Investigate Pilotage Delay:\n1.1 Triggered Pilotage & Towage Delay Workflow to manage the weather-related delay.\n1.2 Re-sequenced berth windows, reallocated cranes, and communicated sanitized updates to stakeholders.\n2. Re-sequenced berth windows and reallocated cranes; communicated sanitized update to stakeholders.\n3. Communications used masked ticket references where applicable.\n4. Confirm scope and reproduction on a safe test entity.\n4.1 check Towage/location/size-type fields.\n4.2 Capture last-updated timestamps from each system.\n5. Check recent deployments/config toggles around the timestamp.\n6. Apply compliant fix and document the change.\n6.1 Capture before/after evidence (screenshots/queries).\n6.2 Update the case with sanitized details.",
    "Verification": "1. Run the end-to-end journey again; confirm success.\n2. No new errors for 30 minutes in monitoring.\n3. Attach evidence and close the case.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: ETA/ETB mismatch for VESSEL_ID on VOYAGE_ID",
    "Overview": "ETA/ETB mismatch for VESSEL_ID on voyage VOYAGE_ID. Berth plan shows ETB at LOCATION while TOS differs by >90 minutes due to tidal constraints. Partner portal still displays outdated ETA; yard resource plan at LOCATION reflects older figures. Pilotage request pending; quay CRANE_LOCATION crane allocation misaligned.",
    "Preconditions": null,
    "Resolution": "1. Investigate ETA/ETB Mismatch:\n1.1 Executed Stowage Plan Alignment process to resolve ETA/ETB discrepancies.\n1.2 Reconcile ETA/ETB across systems, normalize times to port timezone, and trigger recalculation of berth plan and crane profiles.\n2. Reconciled ETA/ETB across systems; normalized times to port TZ and re-published.\n3. Triggered berth plan recalculation and crane profile refresh.\n4. Added drift guard to auto-alert on >30 min divergence.\n5. Communications used masked ticket references where applicable.\n6. Compare authoritative sources and capture the exact delta.\n6.1 Check status/location/size-type fields.\n6.2 Capture last-updated timestamps from each system.\n7. Check event sequencing; identify missing/late/out-of-order events.\n7.1 Sort milestones by eventTime.\n7.2 Replay missing yard move/completion if allowed by SOP.\n8. Trigger a targeted re-sync or corrective update per SOP.\n8.1 Sort milestones by eventTime.\n8.2 Replay missing yard move/completion if allowed by SOP.",
    "Verification": "1. Re-open both systems and confirm fields align (status/location/size-type).\n2. Ensure event ordering is correct; no stale updates reappear.\n3. Attach before/after screenshots or queries.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: Schedule API intermittently returns 500 for VESSEL_ID; slowest 5% of requests latency > 12s",
    "Overview": "Schedule API intermittently returns 500 for VESSEL_ID; slowest 5% of requests latency > 12s. External subscribers missed webhook pushes; fallback polling exposed gaps in berth window at LOCATION.",
    "Preconditions": null,
    "Resolution": "1. Investigate API 500 Failure:\n1.1 Applied ETA/ETB Reconciliation to address API failures.\n1.2 Increased timeout, tuned backoff, and enabled request coalescing to reduce latency and error rate.\n2. Increased timeout, tuned backoff, enabled request coalescing.\n3. Rotated OAuth keys; enforced clock-skew tolerance; added SLI alerts for error-rate/latency.\n3.1 Refresh/rotate token; confirm scopes.\n3.2 Verify NTP/clock skew; resync if >2 seconds.\n4. Communications used masked ticket references where applicable.\n5. Reproduce the failing call on a safe test entity.\n5.1 Use read-only token; capture status code and latency.\n5.2 Record request ID/correlation ID for log search.\n6. Check API gateway/service health around the incident window.\n7. Review auth and permissions for the calling user/client.\n7.1 Refresh/rotate token; confirm scopes.\n7.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: ETA/ETB mismatch for VESSEL_ID on voyage VOYAGE_ID",
    "Overview": "ETA/ETB mismatch for VESSEL_ID on voyage VOYAGE_ID. Berth plan shows ETB at LOCATION while TOS differs by >90 minutes due to tidal constraints. Partner portal still displays outdated ETA; yard resource plan at LOCATION reflects older figures. Pilotage request pending; quay CRANE_LOCATION crane allocation misaligned.",
    "Preconditions": null,
    "Resolution": "1. Investigate ETA/ETB Mismatch:\n1.1 Executed Manifest Closure & Rollover to address discrepancies.\n1.2 Reconcile ETA/ETB across systems, normalize times to port timezone, and trigger recalculation of berth plan and crane profiles.\n2. Reconciled ETA/ETB across systems; normalized times to port TZ and re-published.\n3. Triggered berth plan recalculation and crane profile refresh.\n4. Added drift guard to auto-alert on >30 min divergence.\n5. Communications used masked ticket references where applicable.\n6. Compare authoritative sources and capture the exact delta.\n6.1 Check status/location/size-type fields.\n6.2 Capture last-updated timestamps from each system.\n7. Check event sequencing; identify missing/late/out-of-order events.\n7.1 Sort milestones by eventTime.\n7.2 Replay missing yard move/completion if allowed by SOP.\n8. Trigger a targeted re-sync or corrective update per SOP.\n8.1 Sort milestones by eventTime.\n8.2 Replay missing yard move/completion if allowed by SOP.",
    "Verification": "1. Re-open both systems and confirm fields align (status/location/size-type).\n2. Ensure event ordering is correct; no stale updates reappear.\n3. Attach before/after screenshots or queries.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: ETA/ETB mismatch for VESSEL_ID on voyage VOYAGE_ID",
    "Overview": "ETA/ETB mismatch for VESSEL_ID on voyage VOYAGE_ID. Berth plan shows ETB at LOCATION while TOS differs by >90 minutes due to tidal constraints. Partner portal still displays outdated ETA; yard resource plan at LOCATION reflects older figures. Pilotage request pending; quay CRANE_LOCATION crane allocation misaligned.",
    "Preconditions": null,
    "Resolution": "1. Investigate ETA/ETB Mismatch:\n1.1 Executed Vessel API Timeout & Retry to resolve discrepancies.\n1.2 Reconcile ETA/ETB across systems, normalize times to port timezone, and trigger recalculation of berth plan and crane profiles.\n2. Reconciled ETA/ETB across systems; normalized times to port TZ and re-published.\n3. Triggered berth plan recalculation and crane profile refresh.\n4. Added drift guard to auto-alert on >30 min divergence.\n5. Communications used masked ticket references where applicable.\n6. Compare authoritative sources and capture the exact delta.\n6.1 Check status/location/size-type fields.\n6.2 Capture last-updated timestamps from each system.\n7. Check event sequencing; identify missing/late/out-of-order events.\n7.1 Sort milestones by eventTime.\n7.2 Replay missing yard move/completion if allowed by SOP.\n8. Trigger a targeted re-sync or corrective update per SOP.\n8.1 Sort milestones by eventTime.\n8.2 Replay missing yard move/completion if allowed by SOP.",
    "Verification": "1. Re-open both systems and confirm fields align (status/location/size-type).\n2. Ensure event ordering is correct; no stale updates reappear.\n3. Attach before/after screenshots or queries.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: EDIFACT COPRAR inconsistency for VESSEL_ID: COARRI shows discharge completed for bay BAY_NUMBER",
    "Overview": "EDIFACT COPRAR inconsistency for VESSEL_ID: COARRI shows discharge completed for bay BAY_NUMBER, but BAPLIE still lists units in those slots. Older timestamp regressed the plan.",
    "Preconditions": null,
    "Resolution": "1. Investigate EDI Inconsistency:\n1.1 Followed Stowage Plan Alignment to resolve timestamp regression.\n1.2 Reconcile discharge data and reprocess from quarantine, ensuring alignment across systems.\n2. Enabled conflict resolution preferring max(eventTime); reprocessed from quarantine; verified stowage/discharge alignment across systems.\n2.1 Use idempotency token to prevent duplicates.\n3. Communications used masked ticket references where applicable.\n4. Locate the problematic EDI message/file and quarantine it.\n5. Validate structure and partner-specific rules.\n5.1 Run schema validator (segments/qualifiers/max-occurrence).\n5.2 Fix qualifier mapping or split oversized occurrences.\n6. Correct normalization/mapping and reprocess safely.\n6.1 Use idempotency token to prevent duplicates.\n6.2 Re-ingest from quarantine and monitor translator logs.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: Schedule API intermittently returns 429 for VESSEL_ID; slowest 5% of requests latency > 12s",
    "Overview": "Schedule API intermittently returns 429 for VESSEL_ID; slowest 5% of requests latency > 12s. External subscribers missed webhook pushes; fallback polling exposed gaps in berth window at LOCATION.",
    "Preconditions": null,
    "Resolution": "1. Investigate API 429 Failure:\n1.1 Applied Manifest Closure & Rollover to manage rate-limiting.\n1.2 Increased timeout, tuned backoff settings, and enabled request coalescing to reduce latency and error rate.\n2. Increased timeout, tuned backoff, enabled request coalescing.\n3. Rotated OAuth keys; enforced clock-skew tolerance; added SLI alerts for error-rate/latency.\n3.1 Refresh/rotate token; confirm scopes.\n3.2 Verify NTP/clock skew; resync if >2 seconds.\n4. Communications used masked ticket references where applicable.\n5. Reproduce the failing call on a safe test entity.\n5.1 Use read-only token; capture status code and latency.\n5.2 Record request ID/correlation ID for log search.\n6. Check API gateway/service health around the incident window.\n7. Review auth and permissions for the calling user/client.\n7.1 Refresh/rotate token; confirm scopes.\n7.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "Vessel"
  },
  {
    "Title": "VSL: Schedule API intermittently returns 500 for VESSEL_ID; slowest 5% of requests latency > 12s",
    "Overview": "Schedule API intermittently returns 500 for VESSEL_ID; slowest 5% of requests latency > 12s. External subscribers missed webhook pushes; fallback polling exposed gaps in berth window at LOCATION.",
    "Preconditions": null,
    "Resolution": "1. Investigate API 500 Failure:\n1.1 Applied Stowage Plan Alignment to address the issue.\n1.2 Increased timeout, tuned backoff, and enabled request coalescing to reduce latency and error rate.\n2. Increased timeout, tuned backoff, enabled request coalescing.\n3. Rotated OAuth keys; enforced clock-skew tolerance; added SLI alerts for error-rate/latency.\n3.1 Refresh/rotate token; confirm scopes.\n3.2 Verify NTP/clock skew; resync if >2 seconds.\n4. Communications used masked ticket references where applicable.\n5. Reproduce the failing call on a safe test entity.\n5.1 Use read-only token; capture status code and latency.\n5.2 Record request ID/correlation ID for log search.\n6. Check API gateway/service health around the incident window.\n7. Review auth and permissions for the calling user/client.\n7.1 Refresh/rotate token; confirm scopes.\n7.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "Vessel"
  },
  {
    "Title": "API: Rate limiter throttled legitimate traffic after load surge",
    "Overview": "Rate limiter throttled legitimate traffic after load surge. Hot keys on '/edi/upload/UPLOAD_ID' created cache stampede; error budget burned for the window. Context tokens: CONTEXT_TOKEN1, CONTEXT_TOKEN2.",
    "Preconditions": null,
    "Resolution": "1. Introduced per-partner rate shaping; added idempotency keys for webhook retries; validated TLS and cipher compatibility; published sanitized RCA.\n2. Communications used masked ticket references where applicable.\n3. Reproduce the failing call on a safe test entity.\n3.1 Use read-only token; capture status code and latency.\n3.2 Record request ID/correlation ID for log search.\n4. Check API gateway/service health around the incident window.\n5. Review auth and permissions for the calling user/client.\n5.1 Refresh/rotate token; confirm scopes.\n5.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "EDI/API"
  },
  {
    "Title": "EDI: Intermittent 408 on '/auth/token' during webhook deliveries to PARTNER_ID",
    "Overview": "Intermittent 408 on '/auth/token' during webhook deliveries to PARTNER_ID. slowest 5% of requests latency > 12s triggered breaker; retries hit max; delivery backlog observed. Downstream customer timeline showed gaps; LOCATION ops unaffected but visibility degraded.",
    "Preconditions": null,
    "Resolution": "1. Scaled read replicas and split hot key namespaces; added half-open probes to breaker; restored normal delivery and rebuilt backlog safely.\n2. Communications used masked ticket references where applicable.\n3. Reproduce the failing call on a safe test entity.\n3.1 Use read-only token; capture status code and latency.\n3.2 Record request ID/correlation ID for log search.\n4. Check API gateway/service health around the incident window.\n5. Review auth and permissions for the calling user/client.\n5.1 Refresh/rotate token; confirm scopes.\n5.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "EDI/API"
  },
  {
    "Title": "EDI: Time zone drift caused eventTime to serialize in UTC+0 for partner PARTNER_ID, while TOS computed local UTC+8.",
    "Overview": "Time zone drift caused eventTime to serialize in UTC+0 for partner PARTNER_ID, while TOS computed local UTC+8. Container CONTAINER_ID milestones appeared out-of-order on the portal; BAPLIE 'Gate Out' overshadowed later 'Loaded' event. Booking BOOKING_ID not impacted operationally but customer view inconsistent. Context tokens: CONTEXT_TOKEN1, CONTEXT_TOKEN2.",
    "Preconditions": null,
    "Resolution": "1. Investigate Time Zone Drift:\n1.1 Executed Duplicate Interchange De-duplication to resolve serialization mismatch.\n1.2 Set precedence to TOS for equipment attributes, purged cache, and re-indexed data to correct event ordering.\n2. Set precedence to TOS for equipment attributes; forced cache purge and re-index.\n3. Backfilled corrected attributes, then locked fields for 6h to prevent drift.\n3.1 Archive ACK with timestamp and execution ID.\n3.2 Notify partner with sanitized sample if needed.\n4. Added rule to reject backdated EDI updates if newer move exists within 120 minutes.\n4.1 Archive ACK with timestamp and execution ID.\n4.2 Notify partner with sanitized sample if needed.\n5. Communications used masked ticket references where applicable.\n6. Locate the problematic EDI message/file and quarantine it.\n7. Validate structure and partner-specific rules.\n7.1 Run schema validator (segments/qualifiers/max-occurrence).\n7.2 Fix qualifier mapping or split oversized occurrences.\n8. Correct normalization/mapping and reprocess safely.\n8.1 Use idempotency token to prevent duplicates.\n8.2 Re-ingest from quarantine and monitor translator logs.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "EDI/API"
  },
  {
    "Title": "EDI: Unexpected qualifier 'QUALIFIER' in EQD segment from Partner_ID; schema validation failed...",
    "Overview": "Unexpected qualifier 'QUALIFIER' in EQD segment from PARTNER_ID; schema validation failed; containers in the message not reflected on the portal timeline. Context tokens: CONTEXT_TOKEN1, CONTEXT_TOKEN2.",
    "Preconditions": null,
    "Resolution": "1. Implemented pre-ingest normalizer for qualifiers; updated partner IG notes; enabled anomaly detection for repeated segment errors exceeds threshold.\n1.1 Run schema validator (segments/qualifiers/max-occurrence).\n1.2 Fix qualifier mapping or split oversized occurrences.\n2. Communications used masked ticket references where applicable.\n3. Locate the problematic EDI message/file and quarantine it.\n4. Validate structure and partner-specific rules.\n4.1 Run schema validator (segments/qualifiers/max-occurrence).\n4.2 Fix qualifier mapping or split oversized occurrences.\n5. Correct normalization/mapping and reprocess safely.\n5.1 Use idempotency token to prevent duplicates.\n5.2 Re-ingest from quarantine and monitor translator logs.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "EDI/API"
  },
  {
    "Title": "API:  OAuth token rejection spikes on '/events/subscribe'",
    "Overview": "OAuth token rejection spikes on '/events/subscribe'. Clock skew across nodes yielded 401/403 bursts; clients observed partial responses before circuit opened. Context tokens: CONTEXT_TOKEN1, CONTEXT_TOKEN2.",
    "Preconditions": null,
    "Resolution": "1. Investigate OAuth Token Rejection:\n1.1 Applied API Timeout & Retry Policy to address 401/403 errors.\n1.2 Increased timeouts, tuned exponential backoff, and enforced token leeway to mitigate clock skew issues.\n2. Increased timeouts, tuned exponential backoff, enabled request coalescing.\n3. Rotated OAuth keys and enforced ±60s token leeway.\n3.1 Refresh/rotate token; confirm scopes.\n3.2 Verify NTP/clock skew; resync if >2 seconds.\n4. Warmed cache for hot routes and raised SLI alerts.\n4.1 Check DB slowest 5% of requests latency; look for lock waits.\n4.2 Purge problematic cache keys; warm hot keys if needed.\n5. Communications used masked ticket references where applicable.\n6. Reproduce the failing call on a safe test entity.\n6.1 Use read-only token; capture status code and latency.\n6.2 Record request ID/correlation ID for log search.\n7. Check API gateway/service health around the incident window.\n8. Review auth and permissions for the calling user/client.\n8.1 Refresh/rotate token; confirm scopes.\n8.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "EDI/API"
  },
  {
    "Title": "EDI: Spike in DLQ messages after routine maintenance; consumer group lag increased across EDI topic",
    "Overview": "Spike in DLQ messages after routine maintenance; consumer group lag increased across EDI topic. Partner PARTNER_ID reported delayed acknowledgements; LOCATION ops not impacted. Context tokens: CONTEXT_TOKEN1, CONTEXT_TOKEN2.",
    "Preconditions": null,
    "Resolution": "1. Corrected cron schedule to UTC; added mutual exclusion lock and run-idempotency; published sanitized incident note and fixed dashboards.\n2. Communications used masked ticket references where applicable.\n3. Reproduce the failing call on a safe test entity.\n3.1 Use read-only token; capture status code and latency.\n3.2 Record request ID/correlation ID for log search.\n4. Check API gateway/service health around the incident window.\n5. Review auth and permissions for the calling user/client.\n5.1 Refresh/rotate token; confirm scopes.\n5.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "EDI/API"
  },
  {
    "Title": "EDI: Translator rejected ANSI X12 301: missing BGM count alignment (UNH/UNT mismatch)",
    "Overview": "Translator rejected ANSI X12 301: missing BGM count alignment (UNH/UNT mismatch). Partner PARTNER_ID interchange quarantined; downstream milestone not created.",
    "Preconditions": null,
    "Resolution": "1. Added de-duplication keyed by (controlNumber, docType, equipmentId, eventType); instated rule to discard stale duplicates; replayed healthy messages.\n2. Communications used masked ticket references where applicable.\n3. Locate the problematic EDI message/file and quarantine it.\n4. Validate structure and partner-specific rules.\n4.1 Run schema validator (segments/qualifiers/max-occurrence).\n4.2 Fix qualifier mapping or split oversized occurrences.\n5. Correct normalization/mapping and reprocess safely.\n5.1 Use idempotency token to prevent duplicates.\n5.2 Re-ingest from quarantine and monitor translator logs.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "EDI/API"
  },
  {
    "Title": "EDI: Cron for backfill job misfired after DST adjustment; two runs overlapped causing duplicate API publications for the same event batch.",
    "Overview": "Cron for backfill job misfired after DST adjustment; two runs overlapped causing duplicate API publications for the same event batch.",
    "Preconditions": null,
    "Resolution": "1. Scaled consumers and rebalanced partitions; drained DLQ with rate control; enabled poison-message quarantine and added SLO alerting\n2. Communications used masked ticket references where applicable.\n3. Reproduce the failing call on a safe test entity.\n3.1 Use read-only token; capture status code and latency.\n3.2 Record request ID/correlation ID for log search.\n4. Check API gateway/service health around the incident window.\n5. Review auth and permissions for the calling user/client.\n5.1 Refresh/rotate token; confirm scopes.\n5.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "EDI/API"
  },
  {
    "Title": "API: Shipper/consignee role swap observed on API payload for CONTAINER_ID",
    "Overview": "Shipper/consignee role swap observed on API payload for CONTAINER_ID. Upstream denormalization reversed NAD qualifiers; billing prep failed validation. Partner: PARTNER_ID; affected terminal: LOCATION.",
    "Preconditions": null,
    "Resolution": "1. Investigate Shipper/Consignee Role Swap:\n1.1 Executed Webhook Delivery & Idempotency process to resolve role swap issue.\n1.2 Set precedence to TOS for equipment attributes, purged cache, and re-indexed data.\n2. Set precedence to TOS for equipment attributes; forced cache purge and re-index.\n2.1 Check DB slowest 5% of requests latency; look for lock waits.\n2.2 Purge problematic cache keys; warm hot keys if needed.\n3. Backfilled corrected attributes, then locked fields for 6h to prevent drift.\n4. Added rule to reject backdated EDI updates if newer move exists within 120 minutes.\n5. Communications used masked ticket references where applicable.\n6. Reproduce the failing call on a safe test entity.\n6.1 Use read-only token; capture status code and latency.\n6.2 Record request ID/correlation ID for log search.\n7. Check API gateway/service health around the incident window.\n8. Review auth and permissions for the calling user/client.\n8.1 Refresh/rotate token; confirm scopes.\n8.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "EDI/API"
  },
  {
    "Title": "API: OAuth token rejection spikes on '/auth/token'",
    "Overview": "OAuth token rejection spikes on '/auth/token'. Clock skew across nodes yielded 401/403 bursts; clients observed partial responses before circuit opened. Context tokens: HLCUPN7241107580.",
    "Preconditions": null,
    "Resolution": "1. Scaled read replicas and split hot key namespaces; added half-open probes to breaker; restored normal delivery and rebuilt backlog safely.\n2. Communications used masked ticket references where applicable.\n3. Reproduce the failing call on a safe test entity.\n3.1 Use read-only token; capture status code and latency.\n3.2 Record request ID/correlation ID for log search.\n4. Check API gateway/service health around the incident window.\n5. Review auth and permissions for the calling user/client.\n5.1 Refresh/rotate token; confirm scopes.\n5.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "EDI/API"
  },
  {
    "Title": "EDI: Rate limiter throttled legitimate traffic after load surge",
    "Overview": "Rate limiter throttled legitimate traffic after load surge. Hot keys on '/webhooks/delivery/DELIVERY_ID' created cache stampede; error budget burned for the window.",
    "Preconditions": null,
    "Resolution": "1. Scaled read replicas and split hot key namespaces; added half-open probes to breaker; restored normal delivery and rebuilt backlog safely.\n2. Communications used masked ticket references where applicable.\n3. Reproduce the failing call on a safe test entity.\n3.1 Use read-only token; capture status code and latency.\n3.2 Record request ID/correlation ID for log search.\n4. Check API gateway/service health around the incident window.\n5. Review auth and permissions for the calling user/client.\n5.1 Refresh/rotate token; confirm scopes.\n5.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "EDI/API"
  },
  {
    "Title": "EDI: Time zone drift caused eventTime to serialize in UTC+0 for partner PARTNER_ID, while TOS computed local UTC+8.",
    "Overview": "Time zone drift caused eventTime to serialize in UTC+0 for partner PARTNER_ID, while TOS computed local UTC+8. Container CONTAINER_ID milestones appeared out-of-order on the portal; ANSI X12 315 'Gate Out' overshadowed later 'Loaded' event. Booking BOOKING_ID not impacted operationally but customer view inconsistent.",
    "Preconditions": null,
    "Resolution": "1. Patched mapper to respect NAD roles; added tests for role inversion; flushed CDN.\n2. Sent sanitized incident summary to stakeholders; identifiers masked.\n3. Communications used masked ticket references where applicable.\n4. Locate the problematic EDI message/file and quarantine it.\n5. Validate structure and partner-specific rules.\n5.1 Run schema validator (segments/qualifiers/max-occurrence).\n5.2 Fix qualifier mapping or split oversized occurrences.\n6. Correct normalization/mapping and reprocess safely.\n6.1 Use idempotency token to prevent duplicates.\n6.2 Re-ingest from quarantine and monitor translator logs.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "EDI/API"
  },
  {
    "Title": "EDI: Unexpected qualifier 'QUALIFIER' in EQD segment from PARTNER_ID; schema validation failed; containers in the message not reflected on the portal timeline.",
    "Overview": "Unexpected qualifier 'QUALIFIER' in EQD segment from PARTNER_ID; schema validation failed; containers in the message not reflected on the portal timeline. Context tokens: CONTEXT_TOKEN1,",
    "Preconditions": null,
    "Resolution": "1. Investigate Unexpected Qualifier:\n1.1 Followed EDI Translation & Quarantine process to address schema validation failure.\n1.2 Enabled conflict resolution, patched translator for partner tolerance, and reprocessed from quarantine to synchronize data.\n2. Enabled conflict resolution preferring max(eventTime); patched translator for partner-specific tolerance; reprocessed from quarantine; verified pipeline end-to-end.\n2.1 Use idempotency token to prevent duplicates.\n2.2 Re-ingest from quarantine and monitor translator logs.\n3. Communications used masked ticket references where applicable.\n4. Locate the problematic EDI message/file and quarantine it.\n5. Validate structure and partner-specific rules.\n5.1 Run schema validator (segments/qualifiers/max-occurrence).\n5.2 Fix qualifier mapping or split oversized occurrences.\n6. Correct normalization/mapping and reprocess safely.\n6.1 Use idempotency token to prevent duplicates.\n6.2 Re-ingest from quarantine and monitor translator logs.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "EDI/API"
  },
  {
    "Title": "API: OAuth token rejection spikes on '/containers/search'",
    "Overview": "OAuth token rejection spikes on '/containers/search'. Clock skew across nodes yielded 401/403 bursts; clients observed partial responses before circuit opened.",
    "Preconditions": null,
    "Resolution": "1. Introduced per-partner rate shaping; added idempotency keys for webhook retries; validated TLS and cipher compatibility; published sanitized RCA.\n2. Communications used masked ticket references where applicable.\n3. Reproduce the failing call on a safe test entity.\n3.1 Use read-only token; capture status code and latency.\n3.2 Record request ID/correlation ID for log search.\n4. Check API gateway/service health around the incident window.\n5. Review auth and permissions for the calling user/client.\n5.1 Refresh/rotate token; confirm scopes.\n5.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "EDI/API"
  },
  {
    "Title": "ADI: Time zone drift caused eventTime to serialize in UTC+0 for partner PARTNER_ID, while TOS computed local UTC+8.",
    "Overview": "Time zone drift caused eventTime to serialize in UTC+0 for partner PARTNER_ID, while TOS computed local UTC+8. Container CONTAINER_ID milestones appeared out-of-order on the portal; EDIFACT COARRI 'Gate Out' overshadowed later 'Loaded' event. Booking BOOKING_ID not impacted operationally but customer view inconsistent. Context tokens: CONTEXT_TOKEN1, CONTEXT_TOKEN2.",
    "Preconditions": null,
    "Resolution": "1. Patched mapper to respect NAD roles; added tests for role inversion; flushed CDN.\n2. Sent sanitized incident summary to stakeholders; identifiers masked.\n3. Communications used masked ticket references where applicable.\n4. Locate the problematic EDI message/file and quarantine it.\n5. Validate structure and partner-specific rules.\n5.1 Run schema validator (segments/qualifiers/max-occurrence).\n5.2 Fix qualifier mapping or split oversized occurrences.\n6. Correct normalization/mapping and reprocess safely.\n6.1 Use idempotency token to prevent duplicates.\n6.2 Re-ingest from quarantine and monitor translator logs.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "EDI/API"
  },
  {
    "Title": "API: Rate limiter throttled legitimate traffic after load surge",
    "Overview": "Rate limiter throttled legitimate traffic after load surge. Hot keys on '/auth/token' created cache stampede; error budget burned for the window.",
    "Preconditions": null,
    "Resolution": "1. Increased timeouts, tuned exponential backoff, enabled request coalescing.\n2. Rotated OAuth keys and enforced ±60s token leeway.\n2.1 Refresh/rotate token; confirm scopes.\n2.2 Verify NTP/clock skew; resync if >2 seconds.\n3. Warmed cache for hot routes and raised SLI alerts.\n3.1 Check DB slowest 5% of requests latency; look for lock waits.\n3.2 Purge problematic cache keys; warm hot keys if needed.\n4. Communications used masked ticket references where applicable.\n5. Reproduce the failing call on a safe test entity.\n5.1 Use read-only token; capture status code and latency.\n5.2 Record request ID/correlation ID for log search.\n6. Check API gateway/service health around the incident window.\n7. Review auth and permissions for the calling user/client.\n7.1 Refresh/rotate token; confirm scopes.\n7.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "EDI/API"
  },
  {
    "Title": "EDI: Spike in DLQ messages after routine maintenance; consumer group lag increased across EDI topic",
    "Overview": "Spike in DLQ messages after routine maintenance; consumer group lag increased across EDI topic. Partner PARTNER_ID reported delayed acknowledgements; LOCATION ops not impacted.",
    "Preconditions": null,
    "Resolution": "1. Corrected cron schedule to UTC; added mutual exclusion lock and run-idempotency; published sanitized incident note and fixed dashboards.\n2. Communications used masked ticket references where applicable.\n3. Locate the problematic EDI message/file and quarantine it.\n4. Validate structure and partner-specific rules.\n4.1 Run schema validator (segments/qualifiers/max-occurrence).\n4.2 Fix qualifier mapping or split oversized occurrences.\n5. Correct normalization/mapping and reprocess safely.\n5.1 Use idempotency token to prevent duplicates.\n5.2 Re-ingest from quarantine and monitor translator logs.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "EDI/API"
  },
  {
    "Title": "EDI: Shipper/consignee role swap observed on API payload for CONTAINER_ID",
    "Overview": "Shipper/consignee role swap observed on API payload for CONTAINER_ID. Upstream denormalization reversed NAD qualifiers; billing prep failed validation. Partner: PARTNER_ID; affected terminal: LOCATION. Context tokens: CONTEXT_TOKEN1.",
    "Preconditions": null,
    "Resolution": "1. Patched mapper to respect NAD roles; added tests for role inversion; flushed CDN.\n2. Sent sanitized incident summary to stakeholders; identifiers masked.\n3. Communications used masked ticket references where applicable.\n4. Reproduce the failing call on a safe test entity.\n4.1 Use read-only token; capture status code and latency.\n4.2 Record request ID/correlation ID for log search.\n5. Check API gateway/service health around the incident window.\n6. Review auth and permissions for the calling user/client.\n6.1 Refresh/rotate token; confirm scopes.\n6.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "EDI/API"
  },
  {
    "Title": "API: Unexpected qualifier 'QUALIFIER' in EQD segment from PARTNER_ID; schema validation failed; containers in the message not reflected on the portal timeline.",
    "Overview": "Unexpected qualifier 'QUALIFIER' in EQD segment from PARTNER_ID; schema validation failed; containers in the message not reflected on the portal timeline.",
    "Preconditions": null,
    "Resolution": "1. Implemented pre-ingest normalizer for qualifiers; updated partner IG notes; enabled anomaly detection for repeated segment errors exceeds threshold.\n1.1 Run schema validator (segments/qualifiers/max-occurrence).\n1.2 Fix qualifier mapping or split oversized occurrences.\n2. Communications used masked ticket references where applicable.\n3. Locate the problematic EDI message/file and quarantine it.\n4. Validate structure and partner-specific rules.\n4.1 Run schema validator (segments/qualifiers/max-occurrence).\n4.2 Fix qualifier mapping or split oversized occurrences.\n5. Correct normalization/mapping and reprocess safely.\n5.1 Use idempotency token to prevent duplicates.\n5.2 Re-ingest from quarantine and monitor translator logs.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "EDI/API"
  },
  {
    "Title": "API: Time zone drift caused eventTime to serialize in UTC+0 for partner PARTNER_ID, while TOS computed local UTC+8.",
    "Overview": "Time zone drift caused eventTime to serialize in UTC+0 for partner PARTNER_ID, while TOS computed local UTC+8. Container CONTAINER_ID milestones appeared out-of-order on the portal; BAPLIE 'Gate Out' overshadowed later 'Loaded' event. Booking BOOKING_ID not impacted operationally but customer view inconsistent. Context tokens: CONTEXT_TOKEN.",
    "Preconditions": null,
    "Resolution": "1. Investigate Time Zone Drift:\n1.1 Executed Rate Limiting & Traffic Shaping to address eventTime serialization issue.\n1.2 Set precedence to TOS for equipment attributes, purged cache, and re-indexed data to synchronize timestamps.\n2. Set precedence to TOS for equipment attributes; forced cache purge and re-index.\n3. Backfilled corrected attributes, then locked fields for 6h to prevent drift.\n3.1 Archive ACK with timestamp and execution ID.\n3.2 Notify partner with sanitized sample if needed.\n4. Added rule to reject backdated EDI updates if newer move exists within 120 minutes.\n4.1 Archive ACK with timestamp and execution ID.\n4.2 Notify partner with sanitized sample if needed.\n5. Communications used masked ticket references where applicable.\n6. Locate the problematic EDI message/file and quarantine it.\n7. Validate structure and partner-specific rules.\n7.1 Run schema validator (segments/qualifiers/max-occurrence).\n7.2 Fix qualifier mapping or split oversized occurrences.\n8. Correct normalization/mapping and reprocess safely.\n8.1 Use idempotency token to prevent duplicates.\n8.2 Re-ingest from quarantine and monitor translator logs.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "EDI/API"
  },
  {
    "Title": "EDIE Translator rejected BAPLIE: missing BGM count alignment (UNH/UNT mismatch)",
    "Overview": "Translator rejected BAPLIE: missing BGM count alignment (UNH/UNT mismatch). Partner PARTNER_ID interchange quarantined; downstream milestone not created.",
    "Preconditions": null,
    "Resolution": "1. Implemented pre-ingest normalizer for qualifiers; updated partner IG notes; enabled anomaly detection for repeated segment errors exceeds threshold.\n1.1 Run schema validator (segments/qualifiers/max-occurrence).\n1.2 Fix qualifier mapping or split oversized occurrences.\n2. Communications used masked ticket references where applicable.\n3. Locate the problematic EDI message/file and quarantine it.\n4. Validate structure and partner-specific rules.\n4.1 Run schema validator (segments/qualifiers/max-occurrence).\n4.2 Fix qualifier mapping or split oversized occurrences.\n5. Correct normalization/mapping and reprocess safely.\n5.1 Use idempotency token to prevent duplicates.\n5.2 Re-ingest from quarantine and monitor translator logs.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "EDI/API"
  },
  {
    "Title": "EDI: Field mapping mismatch across systems for container CONTAINER_ID",
    "Overview": "Field mapping mismatch across systems for container CONTAINER_ID. Partner PARTNER_ID posted ANSI X12 301 with size/type as SIZE_TYPE, but our master lists SIZE_TYPE2. Public API reflected partner payload, breaking yard slotting at LOCATION. Booking BOOKING_ID shows reefer flag OFF while TOS maintains ON. Audit indicates stale backfill job re-applied older attributes.",
    "Preconditions": null,
    "Resolution": "1. Investigate Field Mapping Mismatch:\n1.1 Executed Partner IG Variance Handling to resolve mapping discrepancies.\n1.2 Set precedence to TOS for equipment attributes, purged cache, and re-indexed data to synchronize system values.\n2. Set precedence to TOS for equipment attributes; forced cache purge and re-index.\n2.1 Check DB slowest 5% of requests latency; look for lock waits.\n2.2 Purge problematic cache keys; warm hot keys if needed.\n3. Backfilled corrected attributes, then locked fields for 6h to prevent drift.\n4. Added rule to reject backdated EDI updates if newer move exists within 120 minutes.\n5. Communications used masked ticket references where applicable.\n6. Reproduce the failing call on a safe test entity.\n6.1 Use read-only token; capture status code and latency.\n6.2 Record request ID/correlation ID for log search.\n7. Check API gateway/service health around the incident window.\n8. Review auth and permissions for the calling user/client.\n8.1 Refresh/rotate token; confirm scopes.\n8.2 Verify NTP/clock skew; resync if >2 seconds.",
    "Verification": "1. Re-run the endpoint; expect 2xx and correct JSON fields.\n2. Observe error rate and latency for 30 minutes; under baseline.\n3. Attach request/response evidence to the case.",
    "Module": "EDI/API"
  },
  {
    "Title": "API: ANSI X12 315 duplicate detected with conflicting control numbers; later message had older eventTime",
    "Overview": "ANSI X12 315 duplicate detected with conflicting control numbers; later message had older eventTime. Quarantine spiked; publish paused to avoid regression.",
    "Preconditions": null,
    "Resolution": "1. Investigate EDI Duplicate:\n1.1 Followed Token Refresh & Clock Skew Handling to resolve duplicate issue.\n1.2 Enabled conflict resolution, preferring max(eventTime), and reprocessed from quarantine to ensure data accuracy.\n2. Enabled conflict resolution preferring max(eventTime); patched translator for partner-specific tolerance; reprocessed from quarantine; verified pipeline end-to-end.\n2.1 Use idempotency token to prevent duplicates.\n2.2 Re-ingest from quarantine and monitor translator logs.\n3. Communications used masked ticket references where applicable.\n4. Locate the problematic EDI message/file and quarantine it.\n5. Validate structure and partner-specific rules.\n5.1 Run schema validator (segments/qualifiers/max-occurrence).\n5.2 Fix qualifier mapping or split oversized occurrences.\n6. Correct normalization/mapping and reprocess safely.\n6.1 Use idempotency token to prevent duplicates.\n6.2 Re-ingest from quarantine and monitor translator logs.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "EDI/API"
  },
  {
    "Title": "API: Time zone drift caused eventTime to serialize in UTC+0 for partner PARTNER_ID, while TOS computed local UTC+8.",
    "Overview": "Time zone drift caused eventTime to serialize in UTC+0 for partner PARTNER_ID, while TOS computed local UTC+8. Container CONTAINER_ID milestones appeared out-of-order on the portal; EDIFACT COARRI 'Gate Out' overshadowed later 'Loaded' event. Booking BOOKING_ID not impacted operationally but customer view inconsistent.",
    "Preconditions": null,
    "Resolution": "1. Patched mapper to respect NAD roles; added tests for role inversion; flushed CDN.\n2. Sent sanitized incident summary to stakeholders; identifiers masked.\n3. Communications used masked ticket references where applicable.\n4. Locate the problematic EDI message/file and quarantine it.\n5. Validate structure and partner-specific rules.\n5.1 Run schema validator (segments/qualifiers/max-occurrence).\n5.2 Fix qualifier mapping or split oversized occurrences.\n6. Correct normalization/mapping and reprocess safely.\n6.1 Use idempotency token to prevent duplicates.\n6.2 Re-ingest from quarantine and monitor translator logs.",
    "Verification": "1. Confirm next run processed successfully; no duplicates.\n2. Verify partner ACK/CONTRL is archived.\n3. Attach validator logs and sanitized sample.",
    "Module": "EDI/API"
  },
  {
    "Title": "CNTR: Duplicate Container information received",
    "Overview": "Received with conflicting duplicate entry for container information. Later message had older timestamp; last-writer-wins regressed status.",
    "Preconditions": null,
    "Resolution": "1.Verify in DB\nSELECT * FROM container WHERE cntr_no = :CONTAINER_NO ORDER BY created_at DESC;\n2.Keep the latest record (highest created_at) and delete earlier records — with a preview and a safe, bounded delete.\nSELECT c.* FROM container c JOIN ( SELECT cntr_no, vessel_id, eta_ts, MAX(created_at) AS max_created_at FROM container WHERE cntr_no = :CONTAINER_NO AND vessel_id = :VESSEL_ID AND eta_ts = :ETA_TS GROUP BY cntr_no, vessel_id, eta_ts ) keep ON keep.cntr_no=c.cntr_no AND keep.vessel_id=c.vessel_id AND keep.eta_ts=c.eta_ts WHERE c.created_at < keep.max_created_at;\n3.Safe delete (keep latest only)\nDELETE c FROM container c JOIN ( SELECT cntr_no, vessel_id, eta_ts, MAX(created_at) AS max_created_at FROM container WHERE cntr_no = :CONTAINER_NO AND vessel_id = :VESSEL_ID AND eta_ts = :ETA_TS GROUP BY cntr_no, vessel_id, eta_ts ) keep ON keep.cntr_no=c.cntr_no AND keep.vessel_id=c.vessel_id AND keep.eta_ts=c.eta_ts WHERE c.created_at < keep.max_created_at;",
    "Verification": null,
    "Module": "Container"
  },
  {
    "Title": "VAS: VESSEL_ERR_4 Vessel Name has been used by other vessel advice",
    "Overview": "Resolve duplicate key error on creating vessel advice VESSEL_ERR_4 (only one active advice per system_vessel_name).",
    "Preconditions": "You have access to DB schema with tables vessel_advice and berthing_application\nLog file: vessel_advice_service.log",
    "Resolution": "1.Confirm Error in Logs\ngrep -i \"VESSEL_ERR_4\" vessel_advice_service.log\n2.Inspect Existing Advice Rows\nSELECT vessel_advice_no, system_vessel_name, effective_start_datetime, effective_end_datetime, system_vessel_name_active FROM vessel_advice WHERE system_vessel_name = :system_vessel_name ORDER BY effective_start_datetime;\nidentify active advice: row with effective_end_datetime IS NULL.\nRecord down\n:active_vessel_advice_no (if any)\n3.Check Port Programs Referencing Active Advice (Active only)\nSELECT application_no, vessel_advice_no, vessel_close_datetime, deleted, berthing_status FROM berth_application WHERE vessel_advice_no = :active_vessel_advice_no AND vessel_close_datetime IS NULL AND berthing_status = 'A' AND deleted = 'N';\nIf result set not empty → active port programs exist.\nDecision Logic\nIf NO active advice (no row with effective_end_datetime IS NULL): the duplicate error shouldn’t occur—recheck.\nActive advice exists & NO active port programs: proceed to expire advice.\nActive advice exists & active port programs present: close/archive them first, then expire advice.\nClose Active Port Programs\nDefine closure timestamp (prefer consistent UTC: e.g. '2025-10-06 00:00:00').\nStatus code definitions (confirm internally):\nberthing_status: 'A' = Active, 'C' = Closed\nDeleted: 'N' = Normal, 'A' = Archived/Removed\nUPDATE berth_application SET vessel_close_datetime = :CLOSE_TS, berthing_status = 'C', deleted = 'A' WHERE vessel_advice_no = :vessel_advice_no AND vessel_close_datetime IS NULL AND berthing_status = 'A' AND deleted = 'N';\nExpire the Active Advice\nUPDATE vessel_advice SET effective_end_datetime = :CLOSE_TS WHERE vessel_advice_no = :vessel_advice_no AND effective_end_datetime IS NULL;",
    "Verification": null,
    "Module": "Vessel"
  },
  {
    "Title": "EDI: EDI Message Timeout or Delay in Acknowledgment",
    "Overview": "Rough Flow of the process: Message Parsed → Acknowledgment Expected → No Acknowledgment → Message Stuck in ERROR Status → Check Logs → Inspect EDI Messages → Manually Trigger Acknowledgment → Message Status Updated to ACKED → Issue Resolved\nThe issue occurs when an EDI message (e.g., IFTMIN) is received and processed (status: PARSED) but is not properly acknowledged. This can be due to server delays, network issues, or other factors. As a result, the message remains in the ERROR status and doesn’t have the expected ack_at timestamp, preventing it from being processed further, which disrupts data flow and shipment tracking.\nFor example, if PSA receives an IFTMIN message from LINE-PSA but the acknowledgment isn't sent to the sender (PSA-TOS), the message stays in ERROR status with a NULL value for ack_at. The lack of acknowledgment means that the message isn’t processed or moved forward.",
    "Preconditions": "Access to the EDI message table (edi_message) in the database schema is available.\nThe message has been received and processed (status: PARSED), but no acknowledgment has occurred yet.\nThe message is in the ERROR status and doesn’t have the correct ack_at timestamp. Specifically, it has the value NULL in ack_at.\nLog file: edi_message_processing.log",
    "Resolution": "1.Confirm Error in Logs (Check the logs for any entries related to the specific message (e.g., REF-IFT-0007) to verify if the acknowledgment process was delayed or failed).\ngrep -i \"REF-IFT-N\" edi_message_processing.log\n2.Inspect Existing Messages\nRun a query on the edi_message table to find any messages that either:\n- Have the ERROR status or\n- Have been received and processed (status: PARSED) but haven't been properly acknowledged (i.e., ack_at is NULL).\nFor example, if a message was received by LINE-PSA and sent to PSA-TOS, but ack_at is NULL, it indicates that the message was parsed but wasn't properly acknowledged, leading to the ERROR status.\nRun a query on the edi_message table to find any messages that have been acknowledged (status: ACKED) but have not been properly acknowledged (ack_at is at NULL) after 24 hours.\nSELECT edi_id, message_ref, sender, receiver, status, sent_at, ack_at, error_text\nFROM edi_message\nWHERE status = 'ERROR' OR (status = 'PARSED' AND ack_at IS NULL);\nDecision Logic\nIf NO active message (no message stuck in ERROR status with missing ack_at):\nThe timeout issue shouldn't occur. Recheck the acknowledgment logic or network connection to confirm if any messages were delayed.\nIf active message exists and no acknowledgment (message is stuck in ACKED status but no proper acknowledgment):\nYou can manually trigger acknowledgment for the message, ensuring it gets an appropriate ack_at timestamp\nIf acknowledgment failed (even though the message was attempted for acknowledgment):\nYou must process the message again or trigger acknowledgment manually as described below.\nResolve the Timeout\nManually trigger the acknowledgment process for messages stuck in the ERROR status but not properly acknowledged. Update the status and set the ack_at timestamp.\n-- Trigger ACKED status update manually\nUPDATE edi_message\nSET status = 'ACKED', ack_at = NOW(), error_text = NULL\nWHERE edi_id = <edi_id>; -- Replace with the actual edi_id (1, 2, 3, 4, n)",
    "Verification": null,
    "Module": "EDI/API"
  }
]